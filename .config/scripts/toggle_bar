#!/usr/bin/env bash


current_height=$(sketchybar --query bar | jq '.geometry | .height')
bar_height=40 # change the bar height here

# ps cax | grep sketchybar > /dev/null
if [ $current_height == 0 ] ; then
	# launchctl unload /Users/cobcob/Library/LaunchAgents/homebrew.mxcl.sketchybar.plist
	sketchybar -m --bar hidden=off
        sketchybar -m --bar height=$bar_height

        current_padding=$(yabai -m config window_gap)
        y_offset="$(($current_padding + $bar_height))"
	yabai -m config external_bar all:$y_offset:0
else
	# launchctl load /Users/cobcob/Library/LaunchAgents/homebrew.mxcl.sketchybar.plist
	sketchybar -m --bar hidden=on
        sketchybar -m --bar height=0
	yabai -m config external_bar all:0:0
fi

